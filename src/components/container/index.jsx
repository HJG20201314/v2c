import { usePrefixClass } from '@/hooks/usePrefixClass'
import utils from './utils'
import './index.scss'

export default {
  name: 'vcContainer',
  ...utils,
  created() {
    this.init()
  },
  render() {
    const { prefixCls } = usePrefixClass('container')
    const {
      headerHeight,
      contentVisible,
      title,
      isFullScreen,
      calcWidth,
      calcHeight,
      contentVisibleCtrl,
      isFullScreenCtrl,
      $slots = {}
    } = this
    return (<div class={[`${prefixCls}`, isFullScreen ? `${prefixCls} ${prefixCls}-full`: '']} style={`width: ${calcWidth};height: ${calcHeight}`}>
      {/* 头部 title 区 */}
      <div class={`${prefixCls}__header`} style={`height: ${headerHeight}`}>
        {/* 前缀区 */}
        <div class={`${prefixCls}__header-prefix`}>
          {/* 标题 */}
          <span class={`${prefixCls}__header-prefix--title`}>{title}</span>
          
          {/* 提示 */}
          {this.questionTooltip.enable && (
            <vc-tooltip attrs={this.questionTooltip}>
              <svg t="1714286897387" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2663" width="16" height="16"><path d="M1024 512A512 512 0 1 1 0 512a512 512 0 0 1 1024 0z m-85.333333 0q0-176.725333-124.928-301.738667Q688.64 85.333333 512 85.333333 335.274667 85.333333 210.261333 210.261333 85.333333 335.36 85.333333 512q0 176.725333 124.928 301.738667Q335.36 938.666667 512 938.666667q176.725333 0 301.738667-124.928Q938.666667 688.64 938.666667 512z m-382.293334 56.746667c-7.850667 15.786667-11.861333 27.050667-11.861333 46.08q-2.304 37.461333-43.008 37.461333t-47.957333-37.546667c0-30.037333 4.693333-50.773333 15.786666-72.106666 10.24-21.333333 41.216-54.613333 92.586667-100.522667l9.557333-11.093333c14.250667-17.408 21.333333-36.437333 21.333334-56.234667 0-26.112-7.936-46.677333-22.186667-61.696-15.018667-15.104-36.352-22.186667-63.317333-22.186667-34.816 0-59.306667 10.24-74.325334 32.426667-9.472 12.8-15.36 25.6-18.090666 45.909333-0.256 2.048-4.010667 31.658667-44.373334 31.658667-40.192 0-46.08-29.781333-45.738666-32.170667 5.12-43.52 21.418667-78.677333 49.578666-105.557333 34.133333-33.28 79.957333-49.834667 138.496-49.834667 51.456 0 93.44 13.482667 125.098667 41.984 31.658667 27.648 47.445333 65.706667 47.445333 113.92 0 39.594667-10.24 72.021333-29.269333 97.365334-7.082667 7.936-30.037333 29.269333-68.010667 62.549333-14.250667 11.946667-24.576 25.344-31.658666 39.594667z m-14.165333 225.28a61.013333 61.013333 0 0 1-43.52 16.64 61.696 61.696 0 0 1-43.52-17.408 55.466667 55.466667 0 0 1-17.493333-42.666667 55.466667 55.466667 0 0 1 17.493333-42.837333 61.013333 61.013333 0 0 1 43.52-16.64c17.408 0 32.426667 5.546667 44.288 16.64 11.093333 11.093333 17.408 25.344 17.408 42.752 0 17.408-6.314667 32.426667-18.176 43.52z" fill="#006EFF" p-id="2664"></path></svg>
            </vc-tooltip>
          )}

          {$slots['headerPrefix'] && ($slots['headerPrefix'])}
        </div>

        {/* 后缀区 */}
        <div class={`${prefixCls}__header-suffix`}>
          {/* 展开/收起 */}
          <vc-tooltip placement="top" effect="dark" content={contentVisible ? '收起' : '展开'}>
            <svg t="1714286923748" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2974" width="16" height="16" onClick={contentVisibleCtrl}>
              {contentVisible ? <path d="M512 960A448 448 0 1 1 512 64a448 448 0 0 1 0 896zM240.448 240.448Q128 352.96 128 512q0 159.04 112.448 271.552Q352.96 896 512 896q159.04 0 271.552-112.448Q896 671.04 896 512q0-159.04-112.448-271.552Q671.04 128 512 128 352.96 128 240.448 240.448z m429.952 173.952a32 32 0 0 1 45.248 45.248L557.248 618.048Q538.496 636.8 512 636.8t-45.248-18.752L308.352 459.648a32 32 0 1 1 45.248-45.248L512 572.8l158.4-158.4z" fill="#006EFF" p-id="2975"></path>
                : <path d="M512 64a448 448 0 1 0 0 896A448 448 0 0 0 512 64zM240.448 783.552Q128 671.04 128 512q0-159.04 112.448-271.552Q352.96 128 512 128q159.04 0 271.552 112.448Q896 352.96 896 512q0 159.04-112.448 271.552Q671.04 896 512 896q-159.04 0-271.552-112.448z m429.952-173.952a32 32 0 0 0 45.248-45.248L557.248 405.952Q538.496 387.2 512 387.2t-45.248 18.752L308.352 564.352a32 32 0 1 0 45.248 45.248L512 451.2l158.4 158.4z" fill="#006EFF" p-id="3286"></path>
              }
            </svg>
          </vc-tooltip>

          {/* 全屏切换 */}
          <vc-tooltip placement="top" effect="dark" content={!isFullScreen ? '全屏展示' : '退出全屏'}>
            <svg t="1714289261318" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="20877" width="16" height="16" onClick={isFullScreenCtrl}>
              {!isFullScreen ? <path d="M96 564.672a48 48 0 0 1 47.552 41.472l0.448 6.528v154.432c0 41.408 31.488 75.52 71.808 79.616l8.192 0.384h175.552a48 48 0 0 1 6.528 95.552l-6.528 0.448H224a176 176 0 0 1-175.68-165.248l-0.32-10.752V612.672a48 48 0 0 1 48-48z m828.672 0a48 48 0 0 1 48 48v154.432l-0.32 10.752a176 176 0 0 1-175.68 165.248H624.96l-6.528-0.448a48 48 0 0 1 6.528-95.552h171.712l8.192-0.384a80 80 0 0 0 71.808-79.616V612.672l0.448-6.528a48 48 0 0 1 47.552-41.472zM399.552 89.856l6.528 0.448a48 48 0 0 1-6.528 95.552H224l-8.192 0.384A80 80 0 0 0 144 265.856v162.56l-0.448 6.464A48 48 0 0 1 48 428.416v-162.56l0.32-10.752A176 176 0 0 1 224 89.856h175.552z m397.12 0a176 176 0 0 1 175.68 165.248l0.32 10.752v162.56a48 48 0 0 1-95.552 6.464l-0.448-6.464v-162.56a80 80 0 0 0-71.808-79.616l-8.192-0.384H624.96a48 48 0 0 1-6.528-95.552l6.528-0.448h171.712z" fill="#006EFF" p-id="20878"></path>
                : <path d="M252.8 581.76a176 176 0 0 1 175.68 165.248l0.32 10.752v160.384a48 48 0 0 1-95.552 6.464l-0.448-6.464V757.76a80 80 0 0 0-71.808-79.616l-8.192-0.384h-160a48 48 0 0 1-6.528-95.552l6.528-0.448h160z m678.4 0l6.528 0.448a48 48 0 0 1-6.528 95.552h-160l-8.192 0.384A80 80 0 0 0 691.2 757.76v160.384l-0.448 6.464a48 48 0 0 1-95.552-6.464V757.76l0.32-10.752A176 176 0 0 1 771.2 581.76h160zM512 416a96 96 0 1 1 0 192 96 96 0 0 1 0-192zM380.8 57.6a48 48 0 0 1 48 48v160.384l-0.32 10.688A176 176 0 0 1 252.8 441.984h-160l-6.528-0.448a48 48 0 0 1 6.528-95.552h160l8.192-0.448A80 80 0 0 0 332.8 265.984V105.6l0.448-6.528A48 48 0 0 1 380.8 57.6z m262.4 0a48 48 0 0 1 47.552 41.472l0.448 6.528v160.384c0 41.408 31.488 75.52 71.808 79.552l8.192 0.448h160a48 48 0 0 1 6.528 95.552l-6.528 0.448h-160a176 176 0 0 1-175.68-165.312L595.2 265.984V105.6a48 48 0 0 1 48-48z" fill="#006EFF" p-id="21095"></path>
              }
            </svg>
          </vc-tooltip>

          {$slots['headerSuffix'] && ($slots['headerSuffix'])}
        </div>
      </div>

      {/* 插槽内容区 */}
      {contentVisible && (<div class={`${prefixCls}__content`}>
        {$slots['content'] && ($slots['content'])}
      </div>)}
    </div>)
  }
}